\section{Modeling}
This section details common prediction methods and then highlights our novel methodology that captures matchup specific factors.  As a means for motivation, consider claims of the type \emph{Team X is a tough matchup for team Y due to their ...} often made by sports broadcasters.  There are two ways to consider this statement: (i) the overall team strength of Team X will be problematic for Team Y or (ii) Team X has certain tendencies above and beyond their team strength that will pose difficulties for Team Y.  We outline a general framework for the first case, specifying models that account for differences in team strength.  However, for the second case a different approach is needed to analytically quantify characteristics that pose difficulties for a given team.  Many traditional methods, particularly those based on rankings, impose a characteristic we deem transitivity on predictions.  Our definition of transitivity is fully defined below, but the key point is that models with this property are inherently unable to capture problems of the second type.  We introduce the Nearest-Neighbor Matchup Effect which captures characteristics of specific match ups and doesn't adhere to transitivity in predictions.  

\subsection{Data Treatment}
For our purposes game summary data is used, but another approach not explored here focuses on simulating each sequence in a game rather than the complete outcome as in \cite{vstrumbelj2012}.  A few necessary considerations are whether the outcome of a game is binary (win/loss) or continuous (point differential) as well as whether linear or non-linear modeling (in the predictors) should be used.  The first interesting dilemma involves whether the outcomes should be modeled in a binary sense (win or loss) or rather should a continuous metric such as the point spread be used.  In theory, point spread provides a means for eliciting the relative strength of one team, although as any basketball fan can attest to the final score is often not indicative of how close the game was.  Nevertheless, point spreads are informative about the relative strength of one team compared to another.  Our experience showed that non-linear methods such as CART provided little extra predictive power when compared to linear methods.  \andyc{pull quote about simple models from Kaggle winners}

\subsection{Relative Strength Models}
Adopting the continuous treatment of game outcomes (e.g. point spread), the general form for the relative strength models follows below:
\begin{eqnarray}
Y_{ijk} = g_1(X_{ij}) + g_2(X_i) + g_3(X_j) +  \epsilon_{ijk}
\label{eq:RS}
\end{eqnarray}
where $X_{ij}$ corresponds to the difference in predictors for teams $i$ and $j$, $X_l$ contains predictors for team $l$, and $\epsilon_{ijk} \sim N(0,\sigma^2)$ corresponds to the $kth$ matchup between teams $i$ and $j$.  Most commonly $X_{ij}$ will consist of differences in rankings and seeds between the two teams.  A simple example for Equation~\ref{eq:RS} would be a simple linear model.

\subsection{Popular Methods}  This section provides a review of several existing methods for tournament prediction.
\subsubsection{Rating Based Methods} 
The seeds and ratings discussed earlier contain implicit or explicit means for tournament prediction.  For instance the Sagarin rankings are designed to reflect the point spread between two teams, incorporating a term for the variance of the outcomes under a Bayesian framework provides an efficient way to compute winning probabilities.  Similarly for any of the other rankings coefficients for predicting point spreads or in a binary regression can be computed. A seed based probability is shown in \cite{schwertman1996}.  A more sophisticated approach using point spreads along with Sagarin rankings is shown in \cite{carlin1996}.
\subsubsection{Ensemble Methods}
Combining the ratings from several different sites is a popular strategy.  In fact this is the technique used by Nate Silver's 538 methodology.  In particular Nate Silver's model incorporates ... \andyc{cite here}

\subsection{Nearest-Neighbor Matchup Effects}
The nearest-neighbor matchup effects are tailored for the second scenario posed in the introduction to this section in which there exist team level characteristics - above and beyond team strength - that contribute to win probability.  For instance, maybe a certain team struggles with taller teams that rebound well.  When facing an opponent with these attributes the team would expect to perform worse than the difference in team strengths would suggest.  Our procedure is a three step process: (i) fit a relative strength model of the form specified in Equation~\ref{eq:RS}, (ii) identify neighbors, by finding similarities between the current opponent and past opponents, and (iii) calibrate the matchup adjustment.  Fitting of the relative strength model follows the same form as previously described and will not be rehashed in this segment.
\subsubsection{Choosing Neighbors}
When choosing neighbors for a matchup between team $X$ and team $Y$, we need to identify past opponents of team $X$ with similar attributes to team $Y$ and past opponents of team $Y$ with similar attributes to team $X.$  The idea is to identify how the performance changes against that subset of opponents.

There are a multitude of ways to select the neighbors.  In particular one needs to consider what variables to consider for selecting neighbors, how should those variables be weighted if at all, and how many neighbors should be selected.  We consider a large set of team level data from which a 5-nearest neighbor approach is calculated.

Typically this procedure would be done analytically, however, user input can also be solicited.  For instance, suppose that a user decided Mercer was similar to Wake Forest and Clemson.  In this case current and ongoing work in Bayesian Visual Analytics (BAVA) framework detailed in \cite{house2010} provides a principled routine for visualizing teams and taking user input of similarities to create a method for computing distance between teams .  
\subsubsection{Matchup Adjustment}
The idea of the matchup adjustment is to quantify how much a team underperformed (or over performed) relative the expected level for a subset of teams similar to the current opponent.  So if team $i$ was two points better than expected against teams similar to $j$, then it would be reasonable to assume that team $i$ would perform better against team $j$ as well.  Assume a simple linear model is used for Equation \ref{eq:RS}, then the predictive distribution for a matchup between team $i$ and team $j$ now becomes 
\begin{eqnarray}
p(Y_{ij}|X_{ij}, \beta,\sigma^2,\mathcal{N}_i^k(j),\mathcal{N}_j^k(i), \rho) \sim N(X_{ij} \beta + \rho(\mathcal{N}_i^k(j) -\mathcal{N}_j^k(i)), \sigma^2),
\label{eq:ME}
\end{eqnarray}
where $\mathcal{N}_j^k(i)$ is the average residual for the team $i's$ $k$ past opponents most similar to team $j$ and $\rho$ is a tuning parameter $\in [0,1]$ that controls the amount of information passed from similar neighbors. 

The natural support of $\rho$ would be between zero and one.  The interpretation of the extreme points is rather intuitive - with $\rho = 0$ Equation~\ref{eq:ME} reverts to Equation~\ref{eq:RS} and with $\rho = 1$ the entire residual for similar teams is retained. 
\subsection{A note about Transitivity}
The transitive property states if $A>B$ and $B>C$ then $A>C$.   In terms of basketball prediction consider:
\begin{eqnarray}
P_{A,B} > 0.5 \quad \& \quad P_{B,C} > 0.5 \rightarrow P_{A,C} > 0.5
\label{eq:trans}
\end{eqnarray}
, where $P_{I,J}$ is the probability of team I defeating team J.  Then Equation \ref{eq:trans} can be considered a transitive property on basketball match ups.  That is if team A is expected to beat team B and team B is expected to beat team C, then team A should also defeat team C.  Any sort of rank based approaches would assume this transitive ordering, home court effects non-withstanding.  Note these are probabilities not true outcomes, due to the parity in basketball inferior teams can and often do defeat stronger teams.  On the other hand, our matchup effects modeling approach can determine if the strengths of a given team present difficulties for a specific team meaning the transitive property is not required to hold and $P_{A,B} > 0.5 \quad \& \quad P_{B,C} > 0.5\quad \& \quad P_{A,C} < 0.5$ is valid.
